<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_order_gst_form" model="ir.ui.view">
        <field name="name">sale.order.gst.form</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='order_line']//tree//field[@name='tax_id']" position="after">
                <field name="hsn_id"/>
                <field name="cgst" />
                <field name="sgst" />
                <field name="igst" />
            </xpath>

            <xpath expr="/form/sheet/group/group/field[@name='partner_id']" position="replace">

                <field name="partner_id" domain="[('customer','=',True)]" context="{'search_default_customer':1, 'show_address': 1}"
                       options="{'no_create_edit':True, &quot;always_reload&quot;: True, 'no_open': True, 'no_create': True}"/>
            </xpath>
            <xpath expr="//field[@name='order_line']//tree//field[@name='product_id']" position = 'replace'>
                <field name="product_id"
                       context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'uom':product_uom}"
                       groups="base.group_user"
                       options="{'no_create_edit':True,
                                                   'no_open': True,
                                                   'no_create': True}"/>
            </xpath>


            <xpath expr="//field[@name='order_line']//tree//field[@name='tax_id']" position = 'replace'>
                <field name="tax_id" widget="many2many_tags"
                       domain="[('type_tax_use','=','sale'),('company_id','=',parent.company_id)]"
                       options="{'no_create_edit':True,
                                                   'no_open': True,
                                                   'no_create': True}"
                />
            </xpath>
        </field>
    </record>


</odoo>
