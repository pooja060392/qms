<odoo>
    <data>
        <report
            string="Address Report"
            id="address_report"
            model="sale.order"
            name="qms_sale_orders.address_report_tmp"
            file="qms_sale_orders.address_report_tmp"
            report_type="qweb-pdf"
            menu="True"
            />
        <template id="address_report_tmp">
            <t t-call="web.external_layout">

                <t t-foreach="docs" t-as="o">
                    <table style="width: 100%; border:2px solid black;">
                        <tbody>
                            <tr>
                                <td style="padding: 20px;">
                                    To,
                                    <br/>
                                    <span t-field="o.partner_shipping_id.name"/>
                                    <br/>
                                    <t t-if="o.partner_shipping_id.street">
                                        <span t-field="o.partner_shipping_id.street"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.street2">
                                        <span t-field="o.partner_shipping_id.street2"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.city">
                                        <span t-field="o.partner_shipping_id.city"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.state_id.name">
                                        <span t-field="o.partner_shipping_id.state_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.country_id.name">
                                        <span t-field="o.partner_shipping_id.country_id.name"/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.zip">
                                        -
                                        <span t-field="o.partner_shipping_id.zip"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.mobile">
                                        <span t-field="o.partner_shipping_id.mobile"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.partner_shipping_id.email">
                                        <span t-field="o.partner_shipping_id.email"/>
                                        <br/>
                                    </t>
                                    <br/>
                                    <br/>
                                    <br/>
                                    <br/>
                                    From,
                                    <br/>
                                    <t t-if="o.company_id.name">
                                        <span t-esc="o.company_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.street">
                                        <span t-esc="o.company_id.street"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.city">
                                        <span t-esc="o.company_id.city"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.state_id.name">
                                        <span t-esc="o.company_id.state_id.name"/>
                                        <br/>
                                    </t>
                                    <t t-if="o.company_id.country_id.name">
                                        <span t-esc="o.company_id.country_id.name"/>
                                    </t>
                                    <t t-if="o.company_id.zip">
                                        -
                                        <span t-esc="o.company_id.zip"/>
                                        <br/>
                                    </t>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table style="width: 100%;border-color: black;border: 1px solid black;border-collapse:collapse">
                        <tbody>
                            <tr style="border: 1px solid black;">
                                <th style="border: 1px solid black;padding:10px">Dr Name</th>
                                <th style="border: 1px solid black;padding:10px">PRODUCT</th>
                                <th style="border: 1px solid black;padding:10px">QUANTITY</th>
                            </tr>
                            <t t-if="o.related_sale_ids">
                                <t t-foreach="o.related_sale_ids" t-as="order">
                                    <t t-foreach="order.order_line" t-as="line">
                                        <tr>
                                            <td style="border: 1px solid black;padding:10px;">
                                                <span t-field="order.dr_name"/>
                                            </td>
                                            <td style="border: 1px solid black;padding:10px;">
                                                <span t-field="line.product_id.name"/>
                                            </td>
                                            <td style="border: 1px solid black;padding:10px;">
                                                <span t-field="line.product_uom_qty"/>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                            </t>
                            <t t-if="not o.related_sale_ids">
                                <t t-foreach="o.order_line" t-as="line">
                                    <tr>
                                        <td style="border: 1px solid black;padding:10px;">
                                            <span t-field="o.dr_name"/>
                                        </td>
                                        <td style="border: 1px solid black;padding:10px;">
                                            <span t-field="line.product_id.name"/>
                                        </td>
                                        <td style="border: 1px solid black;padding:10px;">
                                            <span t-field="line.product_uom_qty"/>
                                        </td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>
            </t>
        </template>
    </data>
</odoo>