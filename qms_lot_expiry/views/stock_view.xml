<odoo>
    <data>
         <record id="view_production_lot_form_inherit_active" model="ir.ui.view">
            <field name="name">stock.production.lot.form</field>
            <field name="model">stock.production.lot</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_production_lot_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/div[@class='oe_button_box']" position="inside">
                    <button name="toggle_active" type="object"
                                        class="oe_stat_button" icon="fa-archive">
                        <field name="active" widget="boolean_button"
                            options='{"terminology": "archive"}'/>
                    </button>
                </xpath>
            </field>
        </record>
    </data>

    <data noupdate="1">
        <record id="ir_cron_deactivate_expired_lot" model="ir.cron">
             <field name="name">Deactivate Expired Lot</field>
             <field name="model_id" ref="model_stock_production_lot"/>
             <field name="type">ir.actions.server</field>
             <field name="state">code</field>
             <field name="code">model.get_expired_lots()</field>
             <field name="interval_number">24</field>
             <field name="interval_type">hours</field>
             <field name="numbercall">-1</field>
             <field name="doall" eval="False"/>
        </record>
    </data>

    <record id="action_production_lot_form_inactive" model="ir.actions.act_window">
        <field name="name">Expired</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">stock.production.lot</field>
        <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('stock.view_production_lot_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('stock.view_production_lot_form')})]"/>
        <field name="search_view_id" ref="stock.search_product_lot_filter"/>
        <field name="domain">[('active', '=', False)]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to add a lot/serial number.
          </p><p>
            This is the list of all the production lots you recorded. When
            you select a lot, you can get the traceability of the products contained in lot.
          </p>
        </field>
    </record>

    <record id="action_production_lot_form_active" model="ir.actions.act_window">
        <field name="name">Active</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">stock.production.lot</field>
        <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('stock.view_production_lot_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('stock.view_production_lot_form')})]"/>
        <field name="search_view_id" ref="stock.search_product_lot_filter"/>
        <field name="domain">[('active', '=', True)]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to add a lot/serial number.
          </p><p>
            This is the list of all the production lots you recorded. When
            you select a lot, you can get the traceability of the products contained in lot.
          </p>
        </field>
    </record>

    <menuitem id="production_lot_menu_main" name="Lot Report" parent="stock.menu_stock_root"
        sequence="97"/>

    <menuitem action="qms_lot_expiry.action_production_lot_form_inactive" id="menu_action_production_lot_form_inactive"
        parent="qms_lot_expiry.production_lot_menu_main"
        sequence="1"/>

    <menuitem action="qms_lot_expiry.action_production_lot_form_active" id="menu_action_production_lot_form_active"
        parent="qms_lot_expiry.production_lot_menu_main"
        sequence="2"/>
</odoo>