<odoo>
    <data>
        <!--<record id="inherit_stock_move_line_tree_view" model="ir.ui.view">-->
            <!--<field name="name">stock.move.line.tree</field>-->
            <!--<field name="model">stock.move.line</field>-->
            <!--<field name="type">form</field>-->
            <!--<field name="inherit_id" ref="stock.view_stock_move_line_operation_tree"/>-->
            <!--<field name="arch" type="xml">-->
                <!--<field name="lot_name" position="after">-->
                    <!--<field name="open_check" invisible="1"/>-->
                    <!--<field name="mrp" force_save="1"/>-->
                    <!--<field name="remove_date" force_save="1"/>-->
                    <!--<field name="manufacture_date" force_save="1"/>-->
                    <!--<field name="import_date" force_save="1"/>-->
                <!--</field>-->
                <!--&lt;!&ndash;<field name="location_id" position="attributes">&ndash;&gt;-->
                    <!--&lt;!&ndash;<attribute name="readonly">1</attribute>&ndash;&gt;-->
                <!--&lt;!&ndash;</field>&ndash;&gt;-->
                <!--&lt;!&ndash;<field name="location_dest_id" position="attributes">&ndash;&gt;-->
                    <!--&lt;!&ndash;<attribute name="readonly">1</attribute>&ndash;&gt;-->
                <!--&lt;!&ndash;</field>&ndash;&gt;-->
            <!--</field>-->
        <!--</record>-->

        <record id="stock.view_stock_move_line_operation_tree" model="ir.ui.view">
            <field name="name">stock.move.line.operations.tree</field>
            <field name="model">stock.move.line</field>
            <field name="priority">1000</field>
            <field name="mode">primary</field>
            <field name="arch" type="xml">
            <tree editable="bottom" decoration-muted="state == 'done' and is_locked == True" decoration-success="product_uom_qty==qty_done" decoration-danger="qty_done &gt; product_uom_qty and state != 'done' and picking_code != 'incoming'">                    <field name="picking_id" invisible="1"/>
                    <field name="product_id" invisible="1"/>
                    <field name="company_id" invisible="1"/>
                    <field name="picking_id" invisible="1"/>
                    <field name="product_uom_category_id" invisible="1"/>
                    <field name="package_level_id" invisible="1"/>
                    <field name="location_id" options="{'no_create': True}" attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"
                           invisible="not context.get('show_source_location')"
                           domain="[('id', 'child_of', parent.location_id), '|', ('company_id', '=', False), ('company_id', '=', company_id)]"
                           groups="stock.group_stock_multi_locations"/>
                    <field name="location_dest_id" width="0.75" attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}" invisible="not context.get('show_destination_location')"
                           domain="[('id', 'child_of', parent.location_dest_id), '|', ('company_id', '=', False), ('company_id', '=', company_id)]"
                           groups="stock.group_stock_multi_locations"/>
                    <field name="lot_id" groups="stock.group_production_lot"
                        attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"
                        invisible="not context.get('show_lots_m2o')"
                        domain="[('product_id', '=', parent.product_id), ('company_id', '=', company_id)]"
                        context="{
                            'active_picking_id': picking_id,
                            'default_company_id': parent.company_id,
                            'default_product_id': parent.product_id,
                        }"
                    />
                    <field name="lot_name" widget="text" groups="stock.group_production_lot"
                        placeholder="Write your SN/LN one by one or copy paste a list."
                        attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"
                        invisible="not context.get('show_lots_text')"/>
                    <field name="open_check" invisible="1"/>
                    <field name="related_code" invisible="1"/>
                    <field name="qc_transfer" invisible="1"/>
                    <field name="mrp"  force_save="1"
                           attrs="{'required': [('related_code', '=', 'incoming')]}"/>
                    <field name="remove_date"  force_save="1"/>
                    <field name="manufacture_date" force_save="1"/>
                    <field name="import_date" force_save="1"/>
                    <field name="package_id" attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"
                           invisible="not context.get('show_package')" groups="stock.group_tracking_lot"/>
                    <field name="result_package_id" attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"
                           groups="stock.group_tracking_lot"/>
                    <field name="owner_id" attrs="{'readonly': ['&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"
                           invisible="not context.get('show_owner')" groups="stock.group_tracking_owner"/>
                    <field name="is_initial_demand_editable" invisible="1"/>
                    <field name="product_uom_qty" invisible="not context.get('show_reserved_quantity')" readonly="1"/>
                    <field name="state" invisible="1"/>
                    <field name="is_locked" invisible="1"/>
                    <field name="picking_code" invisible="1"/>
                    <field name="qty_done" attrs="{'readonly': ['|', '&amp;', ('state', '=', 'done'), ('is_locked', '=', True), '&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}"/>
                    <field name="product_uom_id" options="{'no_open': True, 'no_create': True}" string="Unit of Measure" groups="uom.group_uom"
                        attrs="{'readonly': ['|', '|', ('product_uom_qty', '!=', 0.0),
                                                '&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True),
                                                '&amp;', ('state', '=', 'done'), ('id', '!=', False)]}"/>
                </tree>
            </field>
        </record>
    </data>
</odoo>